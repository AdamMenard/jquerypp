<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Animate Demo</title>
    </head>
    <body>
    <style type="text/css">
      #block {
        background-color:#bca;
        width:100px;
        border:1px solid green;
      }
    </style>
<div id="demo-html">
  <button id="go">&raquo; Run</button>

  <div id="block">Hello!</div>
</div>
<div style='clear:both'></div>
<script type='text/javascript'
        src='../../../steal/steal.js'>
</script>
<script type='text/javascript' id="demo-source">
steal('jquery/dom/animate').then(function(){
  var old = jQuery.fx.prototype.custom;
  jQuery.fx.prototype.custom = function( from, to, unit ) {
    console.log(arguments, this);
    old.apply(this, arguments);
  }
  $("#go").click(function() {
    $('#block').animate({
      width: 300,
      height: 300
    }, 1000, function() {
      alert('Callback')
    })
  });

//    .hide().fadeIn('slow').animate({
//      opacity: 0.4,
//      height: '200px'
//    }, 3000 , function() { console.log('callback'); });

//    setTimeout(function() {
//      // block.stop();
//      console.log(block.height());
//    }, 1500);
//  });
});
</script>
</body>
</html>